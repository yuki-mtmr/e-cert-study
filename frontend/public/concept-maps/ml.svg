<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 550" font-family="'Helvetica Neue', Arial, sans-serif">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="1" dy="2" stdDeviation="3" flood-opacity="0.12"/>
    </filter>
  </defs>

  <text x="450" y="40" text-anchor="middle" font-size="22" font-weight="bold" fill="#166534">🤖 機械学習 コンセプトマップ</text>
  <text x="450" y="62" text-anchor="middle" font-size="13" fill="#64748b">パターン認識から性能評価までの流れ</text>

  <!-- パターン認識 -->
  <g filter="url(#shadow)">
    <rect x="30" y="90" width="160" height="160" rx="14" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
    <text x="110" y="115" text-anchor="middle" font-size="14" font-weight="bold" fill="#166534">パターン認識</text>
    <rect x="45" y="130" width="130" height="28" rx="7" fill="#dcfce7" stroke="#86efac" stroke-width="1"/>
    <text x="110" y="149" text-anchor="middle" font-size="10" fill="#166534">特徴量抽出</text>
    <rect x="45" y="168" width="130" height="28" rx="7" fill="#dcfce7" stroke="#86efac" stroke-width="1"/>
    <text x="110" y="187" text-anchor="middle" font-size="10" fill="#166534">次元削減</text>
    <rect x="45" y="206" width="130" height="28" rx="7" fill="#dcfce7" stroke="#86efac" stroke-width="1"/>
    <text x="110" y="225" text-anchor="middle" font-size="10" fill="#166534">カーネル法</text>
  </g>

  <!-- 機械学習の分類 -->
  <g filter="url(#shadow)">
    <rect x="230" y="90" width="190" height="200" rx="14" fill="#ecfdf5" stroke="#10b981" stroke-width="2"/>
    <text x="325" y="115" text-anchor="middle" font-size="14" font-weight="bold" fill="#065f46">機械学習の分類</text>
    <rect x="245" y="130" width="160" height="28" rx="7" fill="#d1fae5" stroke="#6ee7b7" stroke-width="1"/>
    <text x="325" y="149" text-anchor="middle" font-size="10" fill="#065f46">教師あり学習</text>
    <rect x="245" y="165" width="160" height="28" rx="7" fill="#d1fae5" stroke="#6ee7b7" stroke-width="1"/>
    <text x="325" y="184" text-anchor="middle" font-size="10" fill="#065f46">教師なし学習</text>
    <rect x="245" y="200" width="160" height="28" rx="7" fill="#d1fae5" stroke="#6ee7b7" stroke-width="1"/>
    <text x="325" y="219" text-anchor="middle" font-size="10" fill="#065f46">半教師あり学習</text>
    <rect x="245" y="235" width="160" height="28" rx="7" fill="#d1fae5" stroke="#6ee7b7" stroke-width="1"/>
    <text x="325" y="254" text-anchor="middle" font-size="10" fill="#065f46">強化学習</text>
  </g>

  <!-- 課題と対策 -->
  <g filter="url(#shadow)">
    <rect x="460" y="90" width="190" height="200" rx="14" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <text x="555" y="115" text-anchor="middle" font-size="14" font-weight="bold" fill="#92400e">課題と対策</text>
    <rect x="475" y="130" width="160" height="28" rx="7" fill="#fef9c3" stroke="#fde047" stroke-width="1"/>
    <text x="555" y="149" text-anchor="middle" font-size="10" fill="#92400e">過学習</text>
    <rect x="475" y="165" width="160" height="28" rx="7" fill="#fef9c3" stroke="#fde047" stroke-width="1"/>
    <text x="555" y="184" text-anchor="middle" font-size="10" fill="#92400e">未学習</text>
    <rect x="475" y="200" width="160" height="28" rx="7" fill="#fef9c3" stroke="#fde047" stroke-width="1"/>
    <text x="555" y="219" text-anchor="middle" font-size="10" fill="#92400e">バイアス-バリアンス</text>
    <rect x="475" y="235" width="160" height="28" rx="7" fill="#fef9c3" stroke="#fde047" stroke-width="1"/>
    <text x="555" y="254" text-anchor="middle" font-size="10" fill="#92400e">正則化</text>
  </g>

  <!-- 検証集合 -->
  <g filter="url(#shadow)">
    <rect x="230" y="340" width="190" height="170" rx="14" fill="#ede9fe" stroke="#8b5cf6" stroke-width="2"/>
    <text x="325" y="365" text-anchor="middle" font-size="14" font-weight="bold" fill="#5b21b6">検証集合</text>
    <rect x="245" y="385" width="160" height="28" rx="7" fill="#f5f3ff" stroke="#c4b5fd" stroke-width="1"/>
    <text x="325" y="404" text-anchor="middle" font-size="10" fill="#5b21b6">訓練/検証/テスト分割</text>
    <rect x="245" y="420" width="160" height="28" rx="7" fill="#f5f3ff" stroke="#c4b5fd" stroke-width="1"/>
    <text x="325" y="439" text-anchor="middle" font-size="10" fill="#5b21b6">交差検証</text>
    <rect x="245" y="455" width="160" height="28" rx="7" fill="#f5f3ff" stroke="#c4b5fd" stroke-width="1"/>
    <text x="325" y="474" text-anchor="middle" font-size="10" fill="#5b21b6">ホールドアウト法</text>
  </g>

  <!-- 性能指標 -->
  <g filter="url(#shadow)">
    <rect x="460" y="340" width="190" height="170" rx="14" fill="#fce7f3" stroke="#ec4899" stroke-width="2"/>
    <text x="555" y="365" text-anchor="middle" font-size="14" font-weight="bold" fill="#9d174d">性能指標</text>
    <rect x="475" y="385" width="160" height="28" rx="7" fill="#fdf2f8" stroke="#f9a8d4" stroke-width="1"/>
    <text x="555" y="404" text-anchor="middle" font-size="10" fill="#9d174d">精度/適合率/再現率</text>
    <rect x="475" y="420" width="160" height="28" rx="7" fill="#fdf2f8" stroke="#f9a8d4" stroke-width="1"/>
    <text x="555" y="439" text-anchor="middle" font-size="10" fill="#9d174d">F値</text>
    <rect x="475" y="455" width="160" height="28" rx="7" fill="#fdf2f8" stroke="#f9a8d4" stroke-width="1"/>
    <text x="555" y="474" text-anchor="middle" font-size="10" fill="#9d174d">ROC曲線 / AUC</text>
  </g>

  <!-- フロー矢印 -->
  <line x1="190" y1="170" x2="225" y2="170" stroke="#22c55e" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="420" y1="190" x2="455" y2="190" stroke="#22c55e" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="437" y="183" text-anchor="middle" font-size="9" fill="#64748b">課題発生</text>

  <line x1="325" y1="290" x2="325" y2="335" stroke="#22c55e" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="340" y="318" font-size="9" fill="#64748b">評価方法</text>

  <line x1="420" y1="425" x2="455" y2="425" stroke="#22c55e" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="437" y="418" text-anchor="middle" font-size="9" fill="#64748b">指標計算</text>

  <line x1="555" y1="290" x2="555" y2="335" stroke="#22c55e" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="570" y="318" font-size="9" fill="#64748b">検証で評価</text>

  <!-- 学習フロー矢印(パターン→検証) -->
  <path d="M 110 250 Q 110 310 230 380" fill="none" stroke="#22c55e" stroke-width="2" stroke-dasharray="6,3" marker-end="url(#arrow)"/>
  <text x="140" y="330" font-size="9" fill="#64748b">データ分割</text>
</svg>